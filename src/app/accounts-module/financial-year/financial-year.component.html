<div class="container-fluid">
  <div style="margin-bottom: 50px;">
    <form [formGroup]="FinancialForm" (ngSubmit)="onSumbit()">

      <div class="example-button-row">
        <div class="example-flex-container">


          <!-- <div class="example-button-container">
            <button type="button" mat-mini-fab color="primary" (click)="getLastRowData()" [disabled]="lastRow"
              aria-label="Example icon button with a menu icon">
              <i class="fas fa-step-backward"></i>
            </button>
          </div>



          <div class="example-button-container">
            <button type="button" mat-mini-fab color="primary" (click)="getNextRowData()"
              [disabled]="DisabledNextButton" aria-label="Example icon button with a menu icon">
              <i class="fas fa-caret-left"></i>
            </button>
          </div>

          <div class="example-button-container">
            <button type="button" mat-mini-fab color="primary" (click)="getPrevRowData()"
              [disabled]="DisabledPrevButton" aria-label="Example icon button with a menu icon">
              <i class="fas fa-caret-right"></i>

            </button>
          </div>

          <div class="example-button-container">
            <button type="button" mat-mini-fab (click)="getFirstRowData()" [disabled]="firstRow" color="primary"
              aria-label="Example icon button with a menu icon">
              <i class="fas fa-step-forward"></i>
            </button>
          </div>

          <div class="example-button-container">
            <button type="button" mat-mini-fab color="primary" (click)="GetAllSysFinancialYears()" [disabled]="reloadDisabled"
              aria-label="Example icon button with a menu icon">
              <i class="fas fa-sync"></i>
            </button>
          </div>

          <div class="example-button-container">
            <button type="submit" mat-mini-fab color="primary" [disabled]=" SaveDisable || FinancialForm.invalid"
              aria-label="Example icon button with a menu icon">
              <i class="fas fa-save"></i>
            </button>
          </div>

          <div class="example-button-container">
            <button type="button" mat-mini-fab color="warn" (click)="Open_delete_confirm()"
              [disabled]="DeleteDisable || FinancialForm.invalid" aria-label="Example icon button with a menu icon">
              <i class="fas fa-trash-alt"></i>
            </button>
          </div>

          <div class="example-button-container">
            <button type="button" mat-mini-fab color="primary" (click)="undo()" [disabled]="UndoDisabled"
              aria-label="Example icon button with a menu icon">
              <i class="fas fa-undo"></i>
            </button>
          </div>

          <div class="example-button-container">
             <button type="button" mat-mini-fab (click)="updateFinancial()" [disabled]="UpdateDisable" color="primary" 
              aria-label="Example icon button with a menu icon">
              <i class="fas fa-edit"></i>
            </button>
          </div>


          <div class="example-button-container">
            <button type="button" (click)="New()" mat-mini-fab color="primary"
              aria-label="Example icon button with a menu icon">
              <i class="fas fa-plus"></i>
            </button>
          </div> -->

          <button mat-fab extended color="primary" type="button" 
          (click)="getLastRowData()" [disabled]="lastRow" style="flex-direction:column;">
            <span style="margin-right: 10px;margin-left: 10px;">الأخير</span>
            <mat-icon style="margin-right: 10px;margin-left: 10px;">
              <i class="fas fa-step-backward"></i>
            </mat-icon>
          </button>
     
          <button mat-fab extended color="primary" type="button" 
          (click)="getNextRowData()" [disabled]="DisabledNextButton" style="flex-direction:column;">
            <span style="margin-right: 10px;margin-left: 10px;">التالى</span>
            <mat-icon style="margin-right: 10px;margin-left: 10px;">
              <i class="fas fa-caret-left"></i>
            </mat-icon>
          </button>

          <button mat-fab extended color="primary" type="button" 
          (click)="getPrevRowData()" [disabled]="DisabledPrevButton" style="flex-direction:column;">
           <span style="margin-right: 10px;margin-left: 10px;">السابق</span>
           <mat-icon style="margin-right: 10px;margin-left: 10px;">
             <i class="fas fa-caret-right"></i>
           </mat-icon>
         </button>

          <button mat-fab extended color="primary" type="button" 
            (click)="getFirstRowData()" [disabled]="firstRow" style="flex-direction:column;">
              <span style="margin-right: 10px;margin-left: 10px;">الأول</span>
              <mat-icon style="margin-right: 10px;margin-left: 10px;">
                <i class="fas fa-step-forward"></i>
              </mat-icon>
          </button>

          <button mat-fab extended color="primary" type="button" 
          (click)="GetAllSysFinancialYears()" [disabled]="reloadDisabled" style="flex-direction: column;">
            <span style="margin-right: 10px;margin-left: 10px;">تهيئه</span>
            <mat-icon style="margin-right: 10px;margin-left: 10px;">
              <i class="fas fa-sync"></i>
            </mat-icon>
          </button>


          <button mat-fab extended color="primary" type="submit" 
          [disabled]="FinancialForm.invalid || SaveDisable" style="flex-direction:column;">
            <span style="margin-right: 10px;margin-left: 10px;">حفظ</span>
            <mat-icon style="margin-right: 10px;margin-left: 10px;">
              <i class="fas fa-save"></i>
            </mat-icon>
          </button>

          <button mat-fab extended color="warn" type="button" 
          (click)="Open_delete_confirm()" [disabled]="FinancialForm.invalid || DeleteDisable" style="flex-direction: column;">
           <span style="margin-right: 10px;margin-left: 10px;">حذف</span>
           <mat-icon style="margin-right: 10px;margin-left: 10px;" >
             <i class="fas fa-trash-alt"></i>
           </mat-icon>
         </button>


          <button mat-fab extended color="primary" type="button" 
          (click)="undo()" [disabled]="UndoDisabled" style="flex-direction: column;">
            <span style="margin-right: 10px;margin-left: 10px;">تراجع</span>
            <mat-icon style="margin-right: 10px;margin-left: 10px;">
              <i class="fas fa-undo"></i>
            </mat-icon>
          </button>


          <button mat-fab extended color="primary" type="button" 
          [disabled]="UpdateDisable" (click)="updateFinancial()" style="flex-direction: column;">
            <span style="margin-right: 10px;margin-left: 10px;">تعديل</span>
            <mat-icon style="margin-right: 10px;margin-left: 10px;" >
              <i class="fas fa-edit"></i>
            </mat-icon>
          </button>

          <button mat-fab extended color="primary" type="button" (click)="New()" style="flex-direction:column;">
            <span style="margin-right: 10px;margin-left: 10px;">جديد</span>
            <mat-icon style="margin-right: 10px;margin-left: 10px;" >
              <i class="fas fa-plus"></i>
            </mat-icon>
          </button>



        </div>
      </div>




      <mat-tab-group dir="rtl" style="background-color: white;font-family: system-ui;">
        <mat-tab>
          <ng-template mat-tab-label>
            <h1 style="margin: auto;">
              <i class="fas fa-sitemap"></i>

              السنه المالية
            </h1>
          </ng-template>


          <div class="row p-3">
            <div class="col-lg-3 col-md-6 col-sm-12 input-mrg-top table-container">
              <table class="table table-striped table-hover">
                <thead>
                  <tr>
                    <th scope="col">كود السنه</th>
                    <th scope="col">السنوات المالية</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let financial of SysFinancialYears" (click)="onRowClick(financial)" >
                    <td>{{financial.financialYearsCode}}</td>
                    <td>{{financial.financialYearNameA}}</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="col-lg-9 col-md-6 col-sm-12 input-mrg-top row">

              <mat-form-field class="col-lg-4 col-md-6 col-sm-12" appearance="outline" style="max-height: 85px;">
                <mat-label class="p-1">كود الفتره المالية</mat-label>
                <input matInput type="number" formControlName="financialYearsCode">
              </mat-form-field>

              <mat-form-field class="col-lg-4 col-md-6 col-sm-12" appearance="outline" style="max-height: 85px;" >
                <mat-label class="p-1">أسم الفتره المالية</mat-label>
                <input matInput type="text" formControlName="financialYearNameA">
              </mat-form-field>

              <mat-form-field class="col-lg-4 col-md-6 col-sm-12" appearance="outline" style="max-height: 85px;" >
                <mat-label class="p-1">عدد الفترات</mat-label>
                <input matInput type="number" formControlName="noOfIntervals" [readonly]="true"  >
              </mat-form-field>

              <div class="col-lg-4 col-md-6 col-sm-12">
                <div class="form-floating">
                  <input type="datetime-local" formControlName="startingFrom" class="form-control">
                  <label for="floatingInput"> <i class="fas fa-clock"></i> تاريخ البداية</label>
                </div>
              </div>

              <div class="col-lg-4 col-md-6 col-sm-12">
                <div class="form-floating">
                  <input type="datetime-local" formControlName="endTo" class="form-control" >
                  <label for="floatingInput"> <i class="fas fa-clock"></i> تاريخ النهاية</label>
                </div>
              </div>

              <div class="col-lg-4 col-md-6 col-sm-12">
                <div class="form-floating">
                  <input type="datetime-local" formControlName="closingDate" class="form-control">
                  <label for="floatingInput"> <i class="fas fa-clock"></i> تاريخ الاغلاق</label>
                </div>
              </div>
              <div class="col-lg-4 col-md-6 col-sm-12 mt-2">
                <button mat-raised-button color="primary" type="button" 
                        (click)="calculateDateRanges()" [disabled]=" SaveDisable || FinancialForm.invalid" >
                  إنشاء فترات ألياً
                </button>
              </div>
              

            </div>

          </div>
        </mat-tab>

      </mat-tab-group>
    </form>

    <!-- <button (click)="saveChanges()">Save Changes</button> -->


    <div class="container-fluid mt-5 ">
      <div class="row">
        <div class="col-lg-12">
          <ag-grid-angular [rowData]="dateRanges" class="ag-theme-alpine"
            style="height: 500px; width: 100%;margin-bottom: 100px;" [defaultColDef]="defaultColDef"
            [rowSelection]="'multiple'" [animateRows]="true" (cellValueChanged)="onCellValueChanged($event)"
            [columnDefs]="colDefs" [paginationPageSize]="paginationPageSize">
            >
          </ag-grid-angular>
        </div>
      </div>
    </div>
  </div>

</div>


<!-- 
<div style="margin-bottom: 300px;" >
  <h2>حساب الفترات الزمنية</h2>

  <div *ngIf="dateRanges.length > 0">
    <h3>الفترات الزمنية:</h3>
    <ul>
      <li *ngFor="let range of dateRanges">
        <strong>الشهر بالعربية:</strong> {{ range.MonthNameA }}<br>
        <strong>الشهر بالإنجليزية:</strong> {{ range.MonthNameE }}<br>
        <strong>تاريخ البداية:</strong> {{ range.StartingFrom | date:'short' }}<br>
        <strong>تاريخ النهاية:</strong> {{ range.EndingDate | date:'short' }}
      </li>
    </ul>
  </div>
</div> -->
